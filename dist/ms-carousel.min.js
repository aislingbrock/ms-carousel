/*! ms-carousel 25-06-2015 */
!function(a,b,c){"use strict";function d(b,c){var d={useArrows:!0,animation:{type:"slide",speed:500},useThumbs:!1,hideThumbsOnZoom:!0,hideCarouselOnZoom:!0,imagesPerSlide:1,allowZoom:!1,animations:{slide:function(a,b,c){var d=-b*a.width;"undefined"==typeof c&&(c=500),a.$slides.stop().animate({marginLeft:d+"px"},c,"linear")},none:function(a,b){var c=-b*a.width;a.$slides.css("margin-left",c+"px")}},automatic:!1,automaticDelay:2e3,hideElementsOnZoom:[]};this.$element=b,this.config=a.extend(d,c),this.width=b.width(),this.currentSlide=0,this.controls={},this.zoomed=!1}d.prototype.goTo=function(a,b){{var c=this,d=c.config.animation.type;-a*this.width}if("undefined"==typeof b&&(b=c.config.animation.speed),c.currentSlide=a,a>c.slideCount-1)throw new Error("Slide out of range");if(!c.config.animations[d])throw new Error("Animation of type "+d+" is not supported");return c.config.animations[d](c,a,b),c._updateControls(),a},d.prototype.next=function(){return this.currentSlide+1>this.slideCount-1?void 0:this.goTo(this.currentSlide+1)},d.prototype.prev=function(){return this.currentSlide-1<0?void 0:this.goTo(this.currentSlide-1)},d.prototype.update=function(){var b=this,c=b.$slides;b.$element.is(":visible")&&(b.width=b.$element.width(),b.slideCount=Math.ceil(b.$slides.children().size()/b.config.imagesPerSlide),c.css("min-width",b.slideCount*b.width+"px"),c.children().each(function(c,d){a(d).outerWidth(b.width/b.config.imagesPerSlide)}),b.goTo(b.currentSlide,0),b._updateControls())},d.prototype._updateControls=function(){"undefined"!=typeof this.controls.arrowLeft&&(this.currentSlide<=0?this.controls.arrowLeft.addClass("disabled"):this.controls.arrowLeft.removeClass("disabled")),"undefined"!=typeof this.controls.arrowRight&&(this.currentSlide+1>=this.slideCount?this.controls.arrowRight.addClass("disabled"):this.controls.arrowRight.removeClass("disabled")),"undefined"!=typeof this.$dots&&(this.$dots.children().removeClass("active"),this.$dots.children("*:nth-child("+(this.currentSlide+1)+")").addClass("active"))},d.prototype.init=function(){var c=this;c.$element.data("instance",c),c.$slides=c.$element.children(".msc-slides"),c._initControls(),a(b).on("orientationchange.msc-carousel resize.msc-carousel",function(){c.update()}),c.$slides.children().each(function(b,c){var d=a(c),e=d.data("image");e&&d.append(a('<img src="'+e+'">'))}),c.config.automatic&&b.setInterval(function(){c.currentSlide+1>=c.slideCount?c.goTo(0):c.next()},c.config.automaticDelay),c.update()},d.prototype.zoom=function(b){var c,d,e,f=this,g=f.$slides.children("*:nth-child("+(b+1)+")"),h=a('<img src="'+(g.data("zoom")||g.data("image")||g.children("img").first().attr("src"))+'">');if(b>f.slideCount-1)throw new Error("Slide out of range");f.$element.trigger("zoom.msc-carousel"),"undefined"==typeof f.$zoom?(c=a('<div class="msc-carousel-zoom">'),c.hide(),c.on("click.msc-carousel",".msc-unzoom",function(a){a.preventDefault(),f.unZoom()}),f.$element.after(c),f.$zoom=c):c=f.$zoom,b=b||f.currentSlide,f.zoomed&&f.unZoom(),d=c.children(".msc-unzoom").size()?c.children(".msc-unzoom"):a('<a href="#" class="msc-unzoom">Close</a>'),c.html(h),c.prepend(d),f.config.hideCarouselOnZoom&&(e=f.$element.stop().slideUp()),f.config.hideThumbsOnZoom&&"undefined"!=typeof f.thumbs&&(e=f.thumbs.$element.stop().slideUp()),a.each(f.config.hideElementsOnZoom,function(b,c){e=a(c).stop().slideUp()}),a.when(e).done(function(){c.stop().slideDown()}),f.zoomed=!0},d.prototype.unZoom=function(){var b=this;return b.zoomed?(b.$element.trigger("unzoom.msc-carousel"),a.when(b.$zoom.stop().slideUp()).done(function(){b.config.hideThumbsOnZoom&&"undefined"!=typeof b.thumbs&&b.thumbs.$element.stop().slideDown(),b.config.hideCarouselOnZoom&&b.$element.stop().slideDown(),a.each(b.config.hideElementsOnZoom,function(b,c){a(c).stop().slideDown()}),b.update(),b.thumbs.update()}),void(b.zoomed=!1)):!1},d.prototype._initControls=function(){this._initArrows(),this._initThumbs(),this._initZoom(),this._initDots()},d.prototype._initDots=function(){var b,c,d=this;if(!d.config.useDots)return!1;for(d.$dots=a('<ol class="msc-dots">'),b=0;b<d.$slides.children().size();++b)c=a('<li><a href="#" class="msc-dot'+(d.currentSlide===b?" active":"")+'" data-slide='+b+"><span>"+(b+1)+"</span></a></li>"),d.$dots.append(c);d.$dots.on("click.msc-carousel",".msc-dot",function(b){b.preventDefault(),d.goTo(a(this).data("slide"))}),d.$element.append(d.$dots)},d.prototype._initThumbs=function(){var b,c,e=this,f=e.config.thumbElement||a(e.$element.data("thumbs")),g={imagesPerSlide:2.6};return c=a.extend(g,e.config.thumbConfig||{}),e.config.useThumbs?e.$slides.children().size()<=1?!1:(f.append(a('<ul class="msc-slides">')),e.$slides.children().each(function(b,c){var d=a(c).data("thumb"),g=a('<li><a class="msc-thumb'+(e.currentSlide===b?" active":"")+'" data-slide="'+b+'" href="#"><img src="'+d+'"></a></li>');f.children(".msc-slides").append(g)}),f.on("click.msc-carousel",".msc-thumb",function(b){b.preventDefault(),a(this).parent().siblings().removeClass("active"),a(this).parent().addClass("active"),e.goTo(a(this).data("slide"))}),b=new d(f,c),f.addClass("msc-carousel"),b.init(),e.thumbs=b,b):!1},d.prototype._initZoom=function(){var b=this,c=a(b.config.zoomElement||b.$element.data("zoom"));return this.config.allowZoom?(c.on("click.msc-carousel",".msc-unzoom",function(a){a.preventDefault(),b.unZoom()}),b.$slides.children().each(function(c,d){a(d).on("click.msc-carousel",function(){b.zoom(c)})}).addClass("control"),c.hide(),void(c&&(b.$zoom=c))):!1},d.prototype._initArrows=function(){var b=this,c=b.config.arrowLeft,d=b.config.arrowRight;return b.config.useArrows?("undefined"==typeof c&&(c=b.$element.children(".msc-arrow.left"),c.size()||(c=a('<a href="#" class="msc-arrow left"><span>Prev</span></a>'),b.$element.append(c))),"undefined"==typeof d&&(d=b.$element.children(".msc-arrow.right"),d.size()||(d=a('<a href="#" class="msc-arrow right"><span>Next</span></a>'),b.$element.append(d))),c.on("click.msc-carousel",function(a){a.preventDefault(),b.prev.call(b)}),d.on("click.msc-carousel",function(a){a.preventDefault(),b.next.call(b)}),b.controls.arrowLeft=c,void(b.controls.arrowRight=d)):!1},a.fn.carousel=function(a){var b=new d(this,a);return b.init(),this.carousel=b,this}}(jQuery,window,document);
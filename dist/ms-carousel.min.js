/*! ms-carousel 14-05-2015 */
!function(a,b,c){"use strict";function d(b,c){var d={useArrows:!0,animation:{type:"slide",speed:500},useThumbs:!1,hideThumbsOnZoom:!0,hideCarouselOnZoom:!0,imagesPerSlide:1,allowZoom:!1,animations:{slide:function(a,b,c){var d=-b*a.width,e=a.config.animation.speed||c||500;a.$slides.stop().animate({marginLeft:d+"px"},e,"linear")},none:function(a,b){var c=-b*a.width;a.$slides.css("margin-left",c+"px")}}};this.$element=b,this.config=a.extend(d,c),this.width=b.width(),this.currentSlide=0,this.controls={},this.zoomed=!1}d.prototype.goTo=function(a,b){{var c=this,d=c.config.animation.type,e=c.config.animation.speed||b;-a*this.width}if(c.currentSlide=a,a>c.slideCount-1)throw new Error("Slide out of range");if(!c.config.animations[d])throw new Error("Animation of type "+d+" is not supported");return c.config.animations[d](c,a,e),c._updateControls(),a},d.prototype.next=function(){return this.currentSlide+1>this.slideCount-1?void 0:this.goTo(this.currentSlide+1)},d.prototype.prev=function(){return this.currentSlide-1<0?void 0:this.goTo(this.currentSlide-1)},d.prototype.update=function(){var b=this,c=b.$slides;b.width=b.$element.width(),b.slideCount=Math.ceil(b.$slides.children().size()/b.config.imagesPerSlide),c.css("min-width",b.slideCount*b.width+"px"),c.children().each(function(c,d){a(d).outerWidth(b.width/b.config.imagesPerSlide)}),b._updateControls()},d.prototype._updateControls=function(){"undefined"!=typeof this.controls.arrowLeft&&(this.currentSlide<=0?this.controls.arrowLeft.addClass("disabled"):this.controls.arrowLeft.removeClass("disabled")),"undefined"!=typeof this.controls.arrowRight&&(this.currentSlide+1>=this.slideCount?this.controls.arrowRight.addClass("disabled"):this.controls.arrowRight.removeClass("disabled")),"undefined"!=typeof this.$dots&&(this.$dots.children().removeClass("active"),this.$dots.children("*:nth-child("+(this.currentSlide+1)+")").addClass("active"))},d.prototype.init=function(){var c=this;c.$element.data("instance",c),c.$slides=c.$element.children(".slides"),c._initControls(),a(b).on("orientationchange.carousel resize.carousel",function(){c.update()}),c.$slides.children().each(function(b,c){var d=a(c),e=d.data("image");e&&d.append(a('<img src="'+e+'">'))}),c.update()},d.prototype.zoom=function(b){var c,d,e=this,f=e.$slides.children("*:nth-child("+(b+1)+")"),g=a('<img src="'+(f.data("zoom")||f.data("image")||f.children("img").first().attr("src"))+'">');if(b>e.slideCount-1)throw new Error("Slide out of range");"undefined"==typeof e.$zoom?(c=a('<div class="carousel-zoom">'),c.hide(),c.on("click.carousel",".unzoom",function(a){a.preventDefault(),e.unZoom()}),e.$element.after(c),e.$zoom=c):c=e.$zoom,b=b||e.currentSlide,e.zoomed&&e.unZoom(),d=c.children(".unzoom").size()?c.children(".unzoom"):a('<a href="#" class="unzoom">Close</a>'),c.html(g),c.prepend(d),c.stop().slideDown(),e.config.hideCarouselOnZoom&&e.$element.stop().slideUp(),e.config.hideThumbsOnZoom&&"undefined"!=typeof e.thumbs&&e.thumbs.$element.stop().slideUp(),e.zoomed=!0},d.prototype.unZoom=function(){var a=this;return a.zoomed?(a.$zoom.stop().slideUp(),a.config.hideThumbsOnZoom&&"undefined"!=typeof a.thumbs&&a.thumbs.$element.stop().slideDown(),a.config.hideCarouselOnZoom&&a.$element.stop().slideDown(),void(a.zoomed=!1)):!1},d.prototype._initControls=function(){this._initArrows(),this._initThumbs(),this._initZoom(),this._initDots()},d.prototype._initDots=function(){var b,c,d=this;if(!d.config.useDots)return!1;for(d.$dots=a('<ol class="dots">'),b=0;b<d.$slides.children().size();++b)c=a('<li><a href="#" class="dot'+(d.currentSlide===b?" active":"")+'" data-slide='+b+"><span>"+(b+1)+"</span></a></li>"),d.$dots.append(c);d.$dots.on("click.carousel",".dot",function(b){b.preventDefault(),d.goTo(a(this).data("slide"))}),d.$element.append(d.$dots)},d.prototype._initThumbs=function(){var b,c,e=this,f=e.config.thumbElement||a(e.$element.data("thumbs")),g={imagesPerSlide:2.6};return c=a.extend(g,e.config.thumbConfig||{}),e.config.useThumbs?e.$slides.children().size()<=1?!1:(f.append(a('<ul class="slides">')),e.$slides.children().each(function(b,c){var d=a(c).data("thumb"),g=a('<li><a class="thumb'+(e.currentSlide===b?" active":"")+'" data-slide="'+b+'" href="#"><img src="'+d+'"></a></li>');f.children(".slides").append(g)}),f.on("click.carousel",".thumb",function(b){b.preventDefault(),a(this).parent().siblings().removeClass("active"),a(this).parent().addClass("active"),e.goTo(a(this).data("slide"))}),b=new d(f,c),f.addClass("carousel"),b.init(),e.thumbs=b,b):!1},d.prototype._initZoom=function(){var b=this,c=a(b.config.zoomElement||b.$element.data("zoom"));return this.config.allowZoom?(c.on("click.carousel",".unzoom",function(a){a.preventDefault(),b.unZoom()}),b.$slides.children().each(function(c,d){a(d).on("click.carousel",function(){b.zoom(c)})}),c.hide(),void(c&&(b.$zoom=c))):!1},d.prototype._initArrows=function(){var b=this,c=b.config.arrowLeft,d=b.config.arrowRight;return b.config.useArrows?("undefined"==typeof c&&(c=b.$element.children(".arrow.left"),c.size()||(c=a('<a href="#" class="arrow left"><span>Prev</span></a>'),b.$element.append(c))),"undefined"==typeof d&&(d=b.$element.children(".arrow.right"),d.size()||(d=a('<a href="#" class="arrow right"><span>Next</span></a>'),b.$element.append(d))),c.on("click.carousel",function(a){a.preventDefault(),b.prev.call(b)}),d.on("click.carousel",function(a){a.preventDefault(),b.next.call(b)}),b.controls.arrowLeft=c,void(b.controls.arrowRight=d)):!1},a.fn.carousel=function(a){var b=new d(this,a);return b.init(),b}}(jQuery,window,document);